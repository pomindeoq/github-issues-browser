{
    "pageLinks": {
        "last": {
            "page": "24",
            "per_page": "15",
            "q": "is:issue is:open repo:rails/rails",
            "rel": "last",
            "url": "https://api.github.com/search/issues?q=is%3Aissue+is%3Aopen+repo%3Arails%2Frails&per_page=15&page=24"
        },
        "next": {
            "page": "2",
            "per_page": "15",
            "q": "is:issue is:open repo:rails/rails",
            "rel": "next",
            "url": "https://api.github.com/search/issues?q=is%3Aissue+is%3Aopen+repo%3Arails%2Frails&per_page=15&page=2"
        }
    },
    "data": {
        "total_count": 348,
        "incomplete_results": false,
        "items": [
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43879",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43879/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43879/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43879/events",
            "html_url": "https://github.com/rails/rails/issues/43879",
            "id": 1081273242,
            "node_id": "I_kwDNIULOQHLrmg",
            "number": 43879,
            "title": "Fix for CVE-2021-44528 broke config.hosts by domain on version 6.1.4.3",
            "user": {
                "login": "mshtawythug",
                "id": 4468820,
                "node_id": "MDQ6VXNlcjQ0Njg4MjA=",
                "avatar_url": "https://avatars.githubusercontent.com/u/4468820?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mshtawythug",
                "html_url": "https://github.com/mshtawythug",
                "followers_url": "https://api.github.com/users/mshtawythug/followers",
                "following_url": "https://api.github.com/users/mshtawythug/following{/other_user}",
                "gists_url": "https://api.github.com/users/mshtawythug/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mshtawythug/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mshtawythug/subscriptions",
                "organizations_url": "https://api.github.com/users/mshtawythug/orgs",
                "repos_url": "https://api.github.com/users/mshtawythug/repos",
                "events_url": "https://api.github.com/users/mshtawythug/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mshtawythug/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-15T17:00:19Z",
            "updated_at": "2021-12-15T17:10:28Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\nAdd a domain in your hosts configuration\r\n```ruby\r\n config.hosts = %w(.example.com)\r\n```\r\n\r\n### Expected behavior\r\nAny subdomain of example.com should be allowed to send requests\r\n\r\n### Actual behavior\r\nBlocked host: error is raised\r\n```\r\nBlocked host:somedomain.example.com\r\nTo allow requests to somedomain.example.com, add the following to your environment configuration:\r\nconfig.hosts << \"somedomain.example.com\"\r\n```\r\n\r\n### System configuration\r\n**Rails version**:  `6.1.4.3`\r\n\r\n**Ruby version**: ANY\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43879/reactions",
                "total_count": 1,
                "+1": 1,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43879/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43878",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43878/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43878/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43878/events",
            "html_url": "https://github.com/rails/rails/issues/43878",
            "id": 1081232668,
            "node_id": "I_kwDNIULOQHJNHA",
            "number": 43878,
            "title": "If the table name starts with a number, ActiveRecord creates an invalid query. ",
            "user": {
                "login": "tmtm",
                "id": 48229,
                "node_id": "MDQ6VXNlcjQ4MjI5",
                "avatar_url": "https://avatars.githubusercontent.com/u/48229?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tmtm",
                "html_url": "https://github.com/tmtm",
                "followers_url": "https://api.github.com/users/tmtm/followers",
                "following_url": "https://api.github.com/users/tmtm/following{/other_user}",
                "gists_url": "https://api.github.com/users/tmtm/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tmtm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tmtm/subscriptions",
                "organizations_url": "https://api.github.com/users/tmtm/orgs",
                "repos_url": "https://api.github.com/users/tmtm/repos",
                "events_url": "https://api.github.com/users/tmtm/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tmtm/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 0,
            "created_at": "2021-12-15T16:20:53Z",
            "updated_at": "2021-12-15T16:20:53Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\nOn PostgreSQL:\r\n```sql\r\ncreate table \"1abc\" (id int primary key);\r\n```\r\n\r\nRun this script:\r\n```ruby\r\nrequire 'active_record'\r\nActiveRecord::Base.establish_connection(adapter: 'postgresql')\r\nActiveRecord::Base.logger = Logger.new($stdout)\r\nclass Test < ActiveRecord::Base\r\n  self.table_name = '1abc'\r\nend\r\np Test.group(:id).count\r\n```\r\n\r\n### Expected behavior\r\n\r\ncreate valid query\r\n```sql\r\nSELECT COUNT(*) AS count_all, \"1abc\".\"id\" AS \"1abc_id\" FROM \"1abc\" GROUP BY \"1abc\".\"id\"\r\n```\r\n\r\n### Actual behavior\r\n\r\ncreate invalid query\r\n```sql\r\nSELECT COUNT(*) AS count_all, \"1abc\".\"id\" AS 1abc_id FROM \"1abc\" GROUP BY \"1abc\".\"id\"\r\n```\r\nand error is occurred\r\n```\r\nPG::SyntaxError: ERROR:  syntax error at or near \"1\" (ActiveRecord::StatementInvalid)\r\nLINE 1: SELECT COUNT(*) AS count_all, \"1abc\".\"id\" AS 1abc_id FROM \"1...\r\n                                                     ^\r\n```\r\n\r\nThis alias `1abc_id` is invalid. It must be quoted.\r\n\r\n### System configuration\r\n**Rails version**:\r\nactiverecord-6.1.4.3.gem\r\n\r\n**Ruby version**:\r\nruby 3.0.3p157\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43878/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43878/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43872",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43872/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43872/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43872/events",
            "html_url": "https://github.com/rails/rails/issues/43872",
            "id": 1080655706,
            "node_id": "I_kwDNIULOQGl_Wg",
            "number": 43872,
            "title": "FixturesWithForeignKeyViolationsTest#test_does_not_raise_if_no_fk_violations#test_does_not_raise_if_no_fk_violations error",
            "user": {
                "login": "yahonda",
                "id": 73684,
                "node_id": "MDQ6VXNlcjczNjg0",
                "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/yahonda",
                "html_url": "https://github.com/yahonda",
                "followers_url": "https://api.github.com/users/yahonda/followers",
                "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
                "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
                "organizations_url": "https://api.github.com/users/yahonda/orgs",
                "repos_url": "https://api.github.com/users/yahonda/repos",
                "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
                "received_events_url": "https://api.github.com/users/yahonda/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 3,
            "created_at": "2021-12-15T07:10:06Z",
            "updated_at": "2021-12-15T08:14:52Z",
            "closed_at": null,
            "author_association": "CONTRIBUTOR",
            "active_lock_reason": null,
            "body": "Managed to reproduce CI failure at https://buildkite.com/rails/rails/builds/83346#2ac29d83-54bf-4123-8a94-c483218ebaf6 . \r\n\r\nUnlike the similar ones like #43101 and #42829 . I do not find a way to address it because `PreloaderTest` file already load both `:authors` and `:author_addresses`\r\nhttps://github.com/rails/rails/blob/139183cbce9b8251a2071d255b264ac0d99687d7/activerecord/test/cases/associations_test.rb#L38\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\ncd activerecord\r\nARCONN=postgresql bin/test test/cases/associations_test.rb test/cases/fixtures_test.rb -n \"/^(?:PreloaderTest#(?:test_preload_grouped_queries_of_middle_records)|FixturesWithForeignKeyViolationsTest#(?:test_does_not_raise_if_no_fk_violations))$/\" --seed 62142\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ ARCONN=postgresql bin/test test/cases/associations_test.rb test/cases/fixtures_test.rb -n \"/^(?:PreloaderTest#(?:test_preload_grouped_queries_of_middle_records)|FixturesWithForeignKeyViolationsTest#(?:test_does_not_raise_if_no_fk_violations))$/\" --seed 62142\r\nUsing postgresql\r\nRun options: -n \"/^(?:PreloaderTest#(?:test_preload_grouped_queries_of_middle_records)|FixturesWithForeignKeyViolationsTest#(?:test_does_not_raise_if_no_fk_violations))$/\" --seed 62142\r\n\r\n# Running:\r\n\r\n.E\r\n\r\nError:\r\nFixturesWithForeignKeyViolationsTest#test_does_not_raise_if_no_fk_violations:\r\nRuntimeError: Foreign key violations found in your fixture data. Ensure you aren't referring to labels that don't exist on associations.\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/lib/active_record/fixtures.rb:633:in `block in insert'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/lib/active_record/fixtures.rb:621:in `each'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/lib/active_record/fixtures.rb:621:in `insert'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/lib/active_record/fixtures.rb:607:in `read_and_insert'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/lib/active_record/fixtures.rb:567:in `create_fixtures'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/test/cases/fixtures_test.rb:846:in `block (2 levels) in test_does_not_raise_if_no_fk_violations'\r\n    /home/yahonda/src/github.com/rails/rails/activesupport/lib/active_support/testing/assertions.rb:34:in `assert_nothing_raised'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/test/cases/fixtures_test.rb:845:in `block in test_does_not_raise_if_no_fk_violations'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/test/cases/fixtures_test.rb:859:in `with_verify_foreign_keys_for_fixtures'\r\n    /home/yahonda/src/github.com/rails/rails/activerecord/test/cases/fixtures_test.rb:844:in `test_does_not_raise_if_no_fk_violations'\r\n\r\n\r\nbin/test test/cases/fixtures_test.rb:837\r\n\r\n\r\n\r\nFinished in 0.237820s, 8.4097 runs/s, 4.2049 assertions/s.\r\n2 runs, 1 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n\r\n### System configuration\r\n**Rails version**: main branch\r\n\r\n**Ruby version**:ruby 3.0.3p157 (2021-11-24 revision 3fb7d2cadc) [x86_64-linux]\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43872/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43872/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43870",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43870/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43870/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43870/events",
            "html_url": "https://github.com/rails/rails/issues/43870",
            "id": 1080421136,
            "node_id": "I_kwDNIULOQGXrEA",
            "number": 43870,
            "title": "Local development, puma-dev host no longer working after 6.0.4.2 + 6.0.4.3",
            "user": {
                "login": "radar",
                "id": 2687,
                "node_id": "MDQ6VXNlcjI2ODc=",
                "avatar_url": "https://avatars.githubusercontent.com/u/2687?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/radar",
                "html_url": "https://github.com/radar",
                "followers_url": "https://api.github.com/users/radar/followers",
                "following_url": "https://api.github.com/users/radar/following{/other_user}",
                "gists_url": "https://api.github.com/users/radar/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/radar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/radar/subscriptions",
                "organizations_url": "https://api.github.com/users/radar/orgs",
                "repos_url": "https://api.github.com/users/radar/repos",
                "events_url": "https://api.github.com/users/radar/events{/privacy}",
                "received_events_url": "https://api.github.com/users/radar/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": {
                "url": "https://api.github.com/repos/rails/rails/milestones/78",
                "html_url": "https://github.com/rails/rails/milestone/78",
                "labels_url": "https://api.github.com/repos/rails/rails/milestones/78/labels",
                "id": 6340475,
                "node_id": "MDk6TWlsZXN0b25lNjM0MDQ3NQ==",
                "number": 78,
                "title": "7.0",
                "description": null,
                "creator": {
                "login": "dhh",
                "id": 2741,
                "node_id": "MDQ6VXNlcjI3NDE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dhh",
                "html_url": "https://github.com/dhh",
                "followers_url": "https://api.github.com/users/dhh/followers",
                "following_url": "https://api.github.com/users/dhh/following{/other_user}",
                "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
                "organizations_url": "https://api.github.com/users/dhh/orgs",
                "repos_url": "https://api.github.com/users/dhh/repos",
                "events_url": "https://api.github.com/users/dhh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dhh/received_events",
                "type": "User",
                "site_admin": false
                },
                "open_issues": 2,
                "closed_issues": 28,
                "state": "open",
                "created_at": "2021-01-22T11:46:31Z",
                "updated_at": "2021-12-15T01:11:55Z",
                "due_on": null,
                "closed_at": null
            },
            "comments": 8,
            "created_at": "2021-12-15T00:16:54Z",
            "updated_at": "2021-12-15T13:24:04Z",
            "closed_at": null,
            "author_association": "CONTRIBUTOR",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\n\r\n1. `rails new _6.0.4.3_ host`\r\n2. Add this line to `config/environments/development.rb`: config.hosts << \"host.test\"\r\n3. Point `host.test` to `127.0.0.1` using your favourite method (ours is by using `puma-dev link .`)\r\n4. Attempt to access `host.test`, or `host.test:3000`\r\n\r\n\r\n### Expected behavior\r\n\r\nRails application loads successfully.\r\n\r\n### Actual behavior\r\n\r\n<img width=\"855\" alt=\"image\" src=\"https://user-images.githubusercontent.com/2687/146099707-67bd3aee-575b-4abe-9908-a7bffbbc5bfb.png\">\r\n\r\n\r\n### System configuration\r\n\r\n**Rails version**: 6.0.4.3\r\n**Ruby version**: 2.7.something\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43870/reactions",
                "total_count": 12,
                "+1": 10,
                "-1": 0,
                "laugh": 0,
                "hooray": 1,
                "confused": 0,
                "heart": 1,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43870/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43869",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43869/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43869/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43869/events",
            "html_url": "https://github.com/rails/rails/issues/43869",
            "id": 1080365185,
            "node_id": "I_kwDNIULOQGUQgQ",
            "number": 43869,
            "title": "Would Rails developers like some free MFA tokens from GitHub/Google via the OpenSSF?",
            "user": {
                "login": "david-a-wheeler",
                "id": 813150,
                "node_id": "MDQ6VXNlcjgxMzE1MA==",
                "avatar_url": "https://avatars.githubusercontent.com/u/813150?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/david-a-wheeler",
                "html_url": "https://github.com/david-a-wheeler",
                "followers_url": "https://api.github.com/users/david-a-wheeler/followers",
                "following_url": "https://api.github.com/users/david-a-wheeler/following{/other_user}",
                "gists_url": "https://api.github.com/users/david-a-wheeler/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/david-a-wheeler/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/david-a-wheeler/subscriptions",
                "organizations_url": "https://api.github.com/users/david-a-wheeler/orgs",
                "repos_url": "https://api.github.com/users/david-a-wheeler/repos",
                "events_url": "https://api.github.com/users/david-a-wheeler/events{/privacy}",
                "received_events_url": "https://api.github.com/users/david-a-wheeler/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 0,
            "created_at": "2021-12-14T22:40:41Z",
            "updated_at": "2021-12-14T22:40:41Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "Hi! I work with the [Developer Best Practices Working Group](https://github.com/ossf/wg-best-practices-os-developers) of the Linux Foundation's Open Source Security Foundation (OpenSSF) [\"Great Multi-Factor Authentication (MFA) Distribution Project\"](https://github.com/ossf/great-mfa-project).\r\n\r\nWe'd like to give your project *free* MFA hardware tokens from Google and GitHub, for use by your maintainers.  We'd especially like to give them to any of your maintainers who aren't already using any.  Our goal is to help improve the security of open source software (OSS)/Free Software projects.  For example, these tokens can counter attacks that release source code updates and/or packages using stolen passwords.\r\n\r\nBy **2021-12-20** and preferably much sooner, please let me know:\r\n\r\n1. If you want any tokens, and if so...\r\n2. How many Titan tokens from Google (up to 5)\r\n3. How many Yubikey tokens from GitHub (up to 5)\r\n4. The *private* email address to send codes to (this email must *not* go to the public, as these are use-once codes that can be used to get the tokens)\r\n5. If you could use more, how many more.\r\n\r\nWe would send you coupon codes and validation codes to the private email address.  You would then distribute those codes to the maintainers you choose.  The recipients would use the coupon codes and validation codes to \"buy\" the tokens from the Google Store and/or GitHub Shop, who would ship the tokens directly to recipients.  These codes are use-once, so make sure you can keep the codes private until they're used by the intended person.\r\n\r\n**Important**: The Google coupon codes **must be used by 2021-12-31** on the Google Store or they expire.\r\n\r\nHow can you trust us? You don't need to. You would get the MFA tokens from Google and GitHub; we're simply offering codes to make them no-cost.  We'll provide some documentation on how to use them, but you don't need to use our documents.\r\n\r\nTo qualify, each token recipient must:\r\n\r\n1. Be a maintainer or contributor to this critical open source software (OSS) project, or to another OSS project that this project depends on (the dependency may be indirect).\r\n2. Try to use an MFA token once they receive the token.  We'd like recipients to use MFA tokens from then on, but at least try.\r\n3. Not reuse the token between different people (the token must not be shared).\r\n4. Consider providing feedback to us (so we can try to fix problems).\r\n\r\nWe also need each project that receives coupon codes and/or validation codes\r\nto tell us these numbers (preferably within 30 days of getting the codes):\r\n\r\n1. How many tokens did you distribute from just Google? From just GitHub?\r\n2. How many people received tokens from just Google? From just GitHub?  From both?\r\n3. How many people didn’t have hardware tokens they used for OSS who received tokens from just Google? From just GitHub? From both?\r\n\r\nWe ask for this information so we can tell others some simple measures of success. We don't need nor want the names of any individuals participating. It's fine to ask the people who got the codes for that information and provide a best-effort summary.\r\n\r\nThe MFA tokens are shipped from the US.  They can be shipped internationally, but there are various limitations on where each can be shipped.\r\n\r\nIn particular, we can't ship somewhere if that is forbidden (sanctioned) under US law.  So at this time we are unable to ship to individuals in China, Afghanistan, Russia, Ukraine, North Korea, Iran, Sudan, and Syria.  Sorry about that.  See the Google and GitHub sites for more shipping information.  [More sanction information is available](https://home.treasury.gov/policy-issues/financial-sanctions/sanctions-programs-and-country-information).\r\n\r\nFor more information including how-tos and other setup information can be found at the [\"Great Multi-Factor Authentication (MFA) Distribution Project\" site](https://github.com/ossf/great-mfa-project).\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43869/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43869/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43856",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43856/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43856/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43856/events",
            "html_url": "https://github.com/rails/rails/issues/43856",
            "id": 1078934868,
            "node_id": "I_kwDNIULOQE89VA",
            "number": 43856,
            "title": "TypeError on Rails.cache.fetch after modifying cached instance's class",
            "user": {
                "login": "se2342",
                "id": 76834087,
                "node_id": "MDQ6VXNlcjc2ODM0MDg3",
                "avatar_url": "https://avatars.githubusercontent.com/u/76834087?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/se2342",
                "html_url": "https://github.com/se2342",
                "followers_url": "https://api.github.com/users/se2342/followers",
                "following_url": "https://api.github.com/users/se2342/following{/other_user}",
                "gists_url": "https://api.github.com/users/se2342/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/se2342/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/se2342/subscriptions",
                "organizations_url": "https://api.github.com/users/se2342/orgs",
                "repos_url": "https://api.github.com/users/se2342/repos",
                "events_url": "https://api.github.com/users/se2342/events{/privacy}",
                "received_events_url": "https://api.github.com/users/se2342/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
                {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-13T19:55:36Z",
            "updated_at": "2021-12-13T20:41:23Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\n\r\n* Rails in `development` environment\r\n* Use `ActiveSupport::Cache::MemoryStore`\r\n\r\n__Controller__\r\n```ruby\r\nRails.cache.fetch(\"organisations/by_subdomain/#{request.subdomain}\", expires_in: 5.minutes) do\r\n  current_organisation = Organisation.find_by(subdomain: request.subdomain)\r\nend\r\n```\r\n\r\n__organisation.rb__\r\n```ruby\r\nclass Organisation < ApplicationRecord\r\n  has_many :users, dependent: :destroy\r\n\r\n  validates :name,\r\n    presence: true\r\n\r\n  validates :subdomain,\r\n    presence: true,\r\n    uniqueness: true,\r\n    length: { minimum: 4, maximum: 32 }\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nCalling `Organisation.find_by()` in the `Rails.cache.fetch` block results in the returned instance of the model's class being cached. When performing changes on the model's class (`organisation.rb`) while being in development the cached (and marshalled) data gets invalidated gracefully.\r\n\r\n### Actual behavior\r\n\r\nAfter performing changes on the model's class while in development a `TypeError` (`Organisation can't be referred to`) is being raised when calling the `Rails.cache.fetch` block.\r\n\r\n### System configuration\r\n\r\n**Rails version**: main @ `e8c0293`\r\n\r\n**Ruby version**: `ruby 3.0.3p157 (2021-11-24 revision 3fb7d2cadc) [x86_64-darwin20]`\r\n\r\n**pg Gem**: 1.2.3\r\n\r\n**Postgres**: 13.5.1",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43856/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43856/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43835",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43835/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43835/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43835/events",
            "html_url": "https://github.com/rails/rails/issues/43835",
            "id": 1077187156,
            "node_id": "I_kwDNIULOQDSSVA",
            "number": 43835,
            "title": "ActionCable not working in recent versions of Safari when connecting via WSS",
            "user": {
                "login": "sergelerator",
                "id": 1591869,
                "node_id": "MDQ6VXNlcjE1OTE4Njk=",
                "avatar_url": "https://avatars.githubusercontent.com/u/1591869?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/sergelerator",
                "html_url": "https://github.com/sergelerator",
                "followers_url": "https://api.github.com/users/sergelerator/followers",
                "following_url": "https://api.github.com/users/sergelerator/following{/other_user}",
                "gists_url": "https://api.github.com/users/sergelerator/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/sergelerator/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sergelerator/subscriptions",
                "organizations_url": "https://api.github.com/users/sergelerator/orgs",
                "repos_url": "https://api.github.com/users/sergelerator/repos",
                "events_url": "https://api.github.com/users/sergelerator/events{/privacy}",
                "received_events_url": "https://api.github.com/users/sergelerator/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
                {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 4,
            "created_at": "2021-12-10T20:04:22Z",
            "updated_at": "2021-12-15T05:37:30Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "This issue was previously reported here: https://github.com/rails/rails/issues/39104 but was dismissed by the author because they found a workaround.\r\n\r\n**Disclaimer:** This seems to be a bug with Safari's default WebSocket client (NSURLSession WebSocket) in recent versions (15.1+ at least), but there could be something ActionCable can do to mitigate this issue.\r\n\r\nSome references:\r\n- Report in Apple Forums about the bug in NSURLSession WebSocket: https://developer.apple.com/forums/thread/685403\r\n- Another report on Safari changing the default WebSocket client: https://github.com/wandenberg/nginx-push-stream-module/issues/295\r\n- Discussion about supporting the permessage-deflate extension: https://discuss.rubyonrails.org/t/permessage-deflate-support-in-actioncable/73102\r\n\r\nRelevant highlights:\r\n\r\n- > This error is caused by NSURLSession’s inability to process split messages normally. As long as the received WebSocket Message Frame is Fin=0, an error will occur. Our team adjusted the WebSocket Server configuration in the production environment to solve this problem.\r\n- > We faced error WebSocket connection to 'wss:****' failed: The operation couldn’t be completed. (kNWErrorDomainPOSIX error 100 - Protocol error) with big websocket messages on iOS15 (production, not beta) if server responds with \"Sec-WebSocket-Extensions: permessage-deflate; server_no_context_takeover; client_no_context_takeover\", if there are no such headers or if message very small then all works fine. Maybe there is a bug with websockets compression in WKWebView\r\n- > Disabling \"NSURLSession WebSocket\" resolves the issue.\r\n\r\n### Steps to reproduce\r\n\r\nUsing Safari, make sure your Websocket client is set to \"NSURLSession WebSocket\":\r\n![image](https://user-images.githubusercontent.com/1591869/145631326-8630b1a1-6066-416e-9956-49f6fb38c488.png)\r\n\r\nThis \"NSURLSession WebSocket\" experimental feature is turned on by default in Safari 15.1\r\n\r\n\r\nI followed the same steps mentioned in [this comment](https://github.com/rails/rails/issues/39104#issuecomment-622979107) in the previously linked issue, but used an ngrok tunnel with an HTTPS endpoint instead of a normal HTTP endpoint. Please note that, if you connect to the WebSocket server via HTTP (WS) instead of HTTPS (WSS), the issue is not present.\r\n\r\nBased on the referenced articles above, I also tried manually adding the `PermessageDeflate` extension to `ClientSocket` instances:\r\n\r\n```rb\r\n# config/initializers/websockets.rb\r\nmodule ClientSockerExtensions\r\n  def initialize(*args)\r\n    super(*args)\r\n    @driver.add_extension(PermessageDeflate)\r\n  end\r\nend\r\n\r\nmodule ActionCable\r\n  module Connection\r\n    class ClientSocket\r\n      prepend ClientSockerExtensions\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nIncluding the initializer above did not change the outcome.\r\n\r\n### Expected behavior\r\n\r\nThe \"Connected\" alert should be displayed when visiting the test site, and a successful WSS connection should be visible\r\n\r\n### Actual behavior\r\n\r\nThe \"Connected\" alert is not displayed, an infinite loop of failed attempts to establish a WebSocket connection.\r\n\r\n### System configuration\r\n**Rails version**: 6.1.4.1\r\n**Ruby version**: 2.6.4\r\n\r\n### Additional information\r\n\r\nTo be clear, this seems to be a bug with Safari's now default WebSocket client, but ActionCable alternatives such as Socket.io don't have this issue, which leads me to believe that the WebSocket's server might be able to mitigate this shortcoming in NSURLSession WebSocket.\r\n\r\nWith Safari 15 being the default in MacOS Monterey, an increasing number of users will be facing this issue.",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43835/reactions",
                "total_count": 3,
                "+1": 3,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43835/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43833",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43833/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43833/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43833/events",
            "html_url": "https://github.com/rails/rails/issues/43833",
            "id": 1077089939,
            "node_id": "I_kwDNIULOQDMWkw",
            "number": 43833,
            "title": "Running db:migrate with multi-db setup",
            "user": {
                "login": "EscoCreeks",
                "id": 5465485,
                "node_id": "MDQ6VXNlcjU0NjU0ODU=",
                "avatar_url": "https://avatars.githubusercontent.com/u/5465485?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/EscoCreeks",
                "html_url": "https://github.com/EscoCreeks",
                "followers_url": "https://api.github.com/users/EscoCreeks/followers",
                "following_url": "https://api.github.com/users/EscoCreeks/following{/other_user}",
                "gists_url": "https://api.github.com/users/EscoCreeks/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/EscoCreeks/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/EscoCreeks/subscriptions",
                "organizations_url": "https://api.github.com/users/EscoCreeks/orgs",
                "repos_url": "https://api.github.com/users/EscoCreeks/repos",
                "events_url": "https://api.github.com/users/EscoCreeks/events{/privacy}",
                "received_events_url": "https://api.github.com/users/EscoCreeks/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
                {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": {
                "login": "eileencodes",
                "id": 1080678,
                "node_id": "MDQ6VXNlcjEwODA2Nzg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/1080678?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/eileencodes",
                "html_url": "https://github.com/eileencodes",
                "followers_url": "https://api.github.com/users/eileencodes/followers",
                "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
                "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
                "organizations_url": "https://api.github.com/users/eileencodes/orgs",
                "repos_url": "https://api.github.com/users/eileencodes/repos",
                "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
                "received_events_url": "https://api.github.com/users/eileencodes/received_events",
                "type": "User",
                "site_admin": true
            },
            "assignees": [
                {
                "login": "eileencodes",
                "id": 1080678,
                "node_id": "MDQ6VXNlcjEwODA2Nzg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/1080678?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/eileencodes",
                "html_url": "https://github.com/eileencodes",
                "followers_url": "https://api.github.com/users/eileencodes/followers",
                "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
                "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
                "organizations_url": "https://api.github.com/users/eileencodes/orgs",
                "repos_url": "https://api.github.com/users/eileencodes/repos",
                "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
                "received_events_url": "https://api.github.com/users/eileencodes/received_events",
                "type": "User",
                "site_admin": true
                }
            ],
            "milestone": null,
            "comments": 0,
            "created_at": "2021-12-10T17:49:03Z",
            "updated_at": "2021-12-14T14:04:01Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "Issue related to conversation in [this commit](https://github.com/rails/rails/commit/45eb0f3beccc966689ddf76d1d3c0618852f8af6)\r\n\r\nNote: In the repository there are 3 migrations\r\n20211210172422_create_user_table.rb => already run in the db\r\n20211210172519_add_password_to_users.rb => not run yet in the db\r\n20211210172534_add_email_to_users.rb => already run in the db\r\n\r\nThe issue happens because of multi-db and mentioned commit\r\n\r\n### Steps to reproduce\r\n\r\n1. clone the public repository: https://github.com/EscoCreeks/rails-multi-db-migrate\r\n2. bundle\r\n3. rails db:migrate\r\n\r\n### Expected behavior\r\nThe migration should run:\r\n```\r\n== 20211210172519 AddPasswordToUsers: migrating ===============================\r\n-- add_column(:user_tables, :password, :string)\r\n   -> 0.0025s\r\n== 20211210172519 AddPasswordToUsers: migrated (0.0026s) ======================\r\n```\r\n\r\n### Actual behavior\r\nThe migration is \"reverting\" the migration 20211210172534_add_email_to_users.rb \r\n```\r\n== 20211210172534 AddEmailToUsers: reverting ==================================\r\n-- remove_column(:user_tables, :email, :string)\r\n   -> 0.0229s\r\n== 20211210172534 AddEmailToUsers: reverted (0.0250s) =========================\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.0.0.alpha2\r\n\r\n**Ruby version**: 3.0.3\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43833/reactions",
                "total_count": 2,
                "+1": 2,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43833/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43823",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43823/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43823/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43823/events",
            "html_url": "https://github.com/rails/rails/issues/43823",
            "id": 1075906843,
            "node_id": "I_kwDNIULOQCEJGw",
            "number": 43823,
            "title": "Check constraint with psql CASE statement is nil in schema.",
            "user": {
                "login": "ChrisCPO",
                "id": 7773951,
                "node_id": "MDQ6VXNlcjc3NzM5NTE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/7773951?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ChrisCPO",
                "html_url": "https://github.com/ChrisCPO",
                "followers_url": "https://api.github.com/users/ChrisCPO/followers",
                "following_url": "https://api.github.com/users/ChrisCPO/following{/other_user}",
                "gists_url": "https://api.github.com/users/ChrisCPO/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ChrisCPO/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ChrisCPO/subscriptions",
                "organizations_url": "https://api.github.com/users/ChrisCPO/orgs",
                "repos_url": "https://api.github.com/users/ChrisCPO/repos",
                "events_url": "https://api.github.com/users/ChrisCPO/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ChrisCPO/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
                {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-09T19:10:28Z",
            "updated_at": "2021-12-09T19:31:14Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\nrails 6/7 migration:\r\n\r\n```\r\nadd_check_constraint :tasks,\r\n  \"(CASE WHEN user_task IS TRUE AND assigned_user_id IS NULL THEN FALSE ELSE TRUE END)\",\r\n  name: \"ensure_user_present_if_required\"\r\n ```\r\n \r\n schema: ` t.check_constraint nil, name: \"ensure_user_present_if_required\"`\r\n\r\ncan reproduce via console \r\n```ruby\r\nconnection = ActiveRecord::Base.connection; nil\r\nscope = connection.send(:quoted_scope, \"tasks\")\r\ncheck_info = connection.exec_query(<<-SQL, \"SCHEMA\")\r\n            SELECT conname, pg_get_constraintdef(c.oid) AS constraintdef, c.convalidated AS valid\r\n            FROM pg_constraint c\r\n            JOIN pg_class t ON c.conrelid = t.oid\r\n            WHERE c.contype = 'c'\r\n              AND t.relname = #{scope[:name]}\r\n          SQL\r\n\r\nrow = check_info.first\r\nexpression = row[\"constraintdef\"][/CHECK \\({2}(.+)\\){2}/, 1] #returns nil\r\n```\r\n\r\n### Expected behavior\r\nschema should have full check: \r\n`t.check_constraint \"CASE WHEN user_task IS TRUE AND assigned_user_id IS NULL THEN FALSE ELSE\r\nTRUE END\", name: \"ensure_user_present_if_required\"`\r\n\r\n### Actual behavior\r\n schema: ` t.check_constraint nil, name: \"ensure_user_present_if_required\"`\r\n\r\n### System configuration\r\n**Rails version**: on 6 but code is same on 7.\r\n\r\n**Ruby version**: `ruby 3.0.2p107`\r\n\r\n\r\n**Bug location**: https://github.com/rails/rails/blob/38cb5610b17c1cb6e6a6abfb54e79f104376ef61/activerecord/lib/active_record/connection_adapters/postgresql/schema_statements.rb#L538",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43823/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43823/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43808",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43808/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43808/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43808/events",
            "html_url": "https://github.com/rails/rails/issues/43808",
            "id": 1074733053,
            "node_id": "I_kwDNIULOQA8f_Q",
            "number": 43808,
            "title": "`request.path_parameters` hash does not have string keys",
            "user": {
                "login": "semaperepelitsa",
                "id": 347921,
                "node_id": "MDQ6VXNlcjM0NzkyMQ==",
                "avatar_url": "https://avatars.githubusercontent.com/u/347921?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/semaperepelitsa",
                "html_url": "https://github.com/semaperepelitsa",
                "followers_url": "https://api.github.com/users/semaperepelitsa/followers",
                "following_url": "https://api.github.com/users/semaperepelitsa/following{/other_user}",
                "gists_url": "https://api.github.com/users/semaperepelitsa/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/semaperepelitsa/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/semaperepelitsa/subscriptions",
                "organizations_url": "https://api.github.com/users/semaperepelitsa/orgs",
                "repos_url": "https://api.github.com/users/semaperepelitsa/repos",
                "events_url": "https://api.github.com/users/semaperepelitsa/events{/privacy}",
                "received_events_url": "https://api.github.com/users/semaperepelitsa/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
                {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
                },
                {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-08T18:58:43Z",
            "updated_at": "2021-12-08T20:10:14Z",
            "closed_at": null,
            "author_association": "CONTRIBUTOR",
            "active_lock_reason": null,
            "body": "The current documentation says that \"Returned hash keys are strings\", but in reality they are symbols.\r\n\r\nhttps://github.com/rails/rails/blob/38cb5610b17c1cb6e6a6abfb54e79f104376ef61/actionpack/lib/action_dispatch/http/parameters.rb#L78-L82\r\n\r\nDemo:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"rails\", \"~> 6.1.4\"\r\nend\r\n\r\nrequire \"rack/test\"\r\nrequire \"action_controller/railtie\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.session_store :cookie_store, key: \"cookie_store_key\"\r\n  secrets.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"/:id\" => \"test#show\"\r\n  end\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  include Rails.application.routes.url_helpers\r\n\r\n  def show\r\n    render plain: request.path_parameters.inspect\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def test_response\r\n    get \"/123\"\r\n    assert_equal \"{:controller=>\\\"test\\\", :action=>\\\"show\\\", :id=>\\\"123\\\"}\", last_response.body\r\n  end\r\n\r\n  private\r\n    def app\r\n      Rails.application\r\n    end\r\nend\r\n```\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43808/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43808/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43803",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43803/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43803/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43803/events",
            "html_url": "https://github.com/rails/rails/issues/43803",
            "id": 1074507845,
            "node_id": "I_kwDNIULOQAuwRQ",
            "number": 43803,
            "title": "guides: documentation of `foreign_key` somewhat shallow",
            "user": {
                "login": "fwolfst",
                "id": 219373,
                "node_id": "MDQ6VXNlcjIxOTM3Mw==",
                "avatar_url": "https://avatars.githubusercontent.com/u/219373?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/fwolfst",
                "html_url": "https://github.com/fwolfst",
                "followers_url": "https://api.github.com/users/fwolfst/followers",
                "following_url": "https://api.github.com/users/fwolfst/following{/other_user}",
                "gists_url": "https://api.github.com/users/fwolfst/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/fwolfst/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fwolfst/subscriptions",
                "organizations_url": "https://api.github.com/users/fwolfst/orgs",
                "repos_url": "https://api.github.com/users/fwolfst/repos",
                "events_url": "https://api.github.com/users/fwolfst/events{/privacy}",
                "received_events_url": "https://api.github.com/users/fwolfst/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-08T15:03:58Z",
            "updated_at": "2021-12-08T15:44:50Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "Referring to https://edgeguides.rubyonrails.org/active_record_migrations.html#foreign-keys .\r\n\r\nThe documentation lacks explaining how exactly the `column` or `primary_key` options should be used, does not mention what to do if the table name cannot be inferred by the attribute name (I believe there is a `to_table` option) and also does not state that the foreign-key options can be passed on to column creation statements like `t.integer` (can they?).\r\n\r\nUnfortunately I have a hard time figuring out how it is supposed to work. A pointer to the right direction might help me making a change proposal, but it is not my area of expertise.",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43803/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43803/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43782",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43782/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43782/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43782/events",
            "html_url": "https://github.com/rails/rails/issues/43782",
            "id": 1071968355,
            "node_id": "I_kwDNIULOP-TwYw",
            "number": 43782,
            "title": "link_to :back redirects to OverTheWire website",
            "user": {
                "login": "Intimaria",
                "id": 4869398,
                "node_id": "MDQ6VXNlcjQ4NjkzOTg=",
                "avatar_url": "https://avatars.githubusercontent.com/u/4869398?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Intimaria",
                "html_url": "https://github.com/Intimaria",
                "followers_url": "https://api.github.com/users/Intimaria/followers",
                "following_url": "https://api.github.com/users/Intimaria/following{/other_user}",
                "gists_url": "https://api.github.com/users/Intimaria/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Intimaria/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Intimaria/subscriptions",
                "organizations_url": "https://api.github.com/users/Intimaria/orgs",
                "repos_url": "https://api.github.com/users/Intimaria/repos",
                "events_url": "https://api.github.com/users/Intimaria/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Intimaria/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 1,
            "created_at": "2021-12-06T10:14:57Z",
            "updated_at": "2021-12-06T22:23:17Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n<%= link_to 'Back', :back, class: \"btn btn-secondary btn-sm\" %>\r\n```\r\n\r\n### Expected behavior\r\n\r\n> \"Using a :back Symbol instead of an options hash will generate a link to the referrer (a JavaScript back link will be used in place of a referrer if none exists).\" \r\n\r\nfrom [ApiDock.com](https://apidock.com/rails/ActionView/Helpers/UrlHelper/link_to)\r\n\r\n### Actual behavior\r\nleads me to a hacking challenge page \r\nhttp://natas5.natas.labs.overthewire.org/\r\n\r\n### System configuration\r\n**Rails version**: 6.1\r\n\r\n**Ruby version**:2.7.4\r\n",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43782/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43782/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43781",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43781/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43781/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43781/events",
            "html_url": "https://github.com/rails/rails/issues/43781",
            "id": 1071824861,
            "node_id": "I_kwDNIULOP-K_3Q",
            "number": 43781,
            "title": "Change the image reading path from local to Amazon S3 ",
            "user": {
                "login": "MohamedBasaleh",
                "id": 24945117,
                "node_id": "MDQ6VXNlcjI0OTQ1MTE3",
                "avatar_url": "https://avatars.githubusercontent.com/u/24945117?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/MohamedBasaleh",
                "html_url": "https://github.com/MohamedBasaleh",
                "followers_url": "https://api.github.com/users/MohamedBasaleh/followers",
                "following_url": "https://api.github.com/users/MohamedBasaleh/following{/other_user}",
                "gists_url": "https://api.github.com/users/MohamedBasaleh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/MohamedBasaleh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MohamedBasaleh/subscriptions",
                "organizations_url": "https://api.github.com/users/MohamedBasaleh/orgs",
                "repos_url": "https://api.github.com/users/MohamedBasaleh/repos",
                "events_url": "https://api.github.com/users/MohamedBasaleh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/MohamedBasaleh/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 0,
            "created_at": "2021-12-06T07:38:14Z",
            "updated_at": "2021-12-06T07:38:14Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "Previously, I used to store images in the `locale`, now the image storage has been changed from `local` to `S3`.\r\nSo when the image path storage was changed, the image path was still being read for the old data from the `locale`.\r\nI uploaded all the images in the `locale` to `S3`, and I tried hard to change the path of all the old images, but to no avail.",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43781/reactions",
                "total_count": 1,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 1,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43781/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43780",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43780/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43780/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43780/events",
            "html_url": "https://github.com/rails/rails/issues/43780",
            "id": 1071578893,
            "node_id": "I_kwDNIULOP97_DQ",
            "number": 43780,
            "title": "Active Storage with Single Table Inheritance and different attachables (STI)",
            "user": {
                "login": "JensDebergh",
                "id": 6651506,
                "node_id": "MDQ6VXNlcjY2NTE1MDY=",
                "avatar_url": "https://avatars.githubusercontent.com/u/6651506?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/JensDebergh",
                "html_url": "https://github.com/JensDebergh",
                "followers_url": "https://api.github.com/users/JensDebergh/followers",
                "following_url": "https://api.github.com/users/JensDebergh/following{/other_user}",
                "gists_url": "https://api.github.com/users/JensDebergh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/JensDebergh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JensDebergh/subscriptions",
                "organizations_url": "https://api.github.com/users/JensDebergh/orgs",
                "repos_url": "https://api.github.com/users/JensDebergh/repos",
                "events_url": "https://api.github.com/users/JensDebergh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/JensDebergh/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 0,
            "created_at": "2021-12-05T22:49:43Z",
            "updated_at": "2021-12-05T22:49:43Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "Hi!\r\n\r\nI'm using `ActiveStorage` in a solution I'm building to create documents with a block builder like interface, but I'm running into the N+1 query problem when using STI in combination with active storage and different attachment names.\r\n\r\nGiven a `ContentBlock` which is polymorphic to a `contentable`\r\n\r\n```\r\nclass ContentBlock < ApplicationRecord\r\n   belongs_to :contentable, polymorphic: true\r\nend\r\n```\r\n\r\nA document which `has_many` of these different kind of `ContentBlock`.\r\n\r\n```\r\nclass Document\r\n  has_many :content_blocks, -> { order(position: :asc) }, as: :contentable, dependent: :destroy\r\nend\r\n```\r\n\r\nA subset of content blocks as an example: `ImageBlock`, `ProductBlock` each with one or many different names for an attached file.\r\n\r\n```\r\nclass ImageBlock < ContentBlock\r\n has_one_attached :image\r\nend\r\n\r\nclass ProductBlock < ContentBlock\r\n has_one_attached :product_image\r\nend\r\n```\r\n\r\nQuerying this `Document` and all it's associated `ContentBlock` records is easy by providing `includes(:content_blocks)`.\r\n\r\nThe problem starts when needing information about the `ActiveStorage::Attachment` records included inside of every subset of `ContentBlock`\r\n\r\n`with_attached_image` works on `ImageBlock` but not on `ProductBlock`\r\n`with_attached_product_image` works on `ProductBlock` but not on `ImageBlock`\r\n\r\nI can't seem to figure out a way to load all of the associated `ActiveStorage::Attachment` & `ActiveStorage::Blob` records without bumping into the N+1 query.\r\n\r\nAm I tackling this problem the wrong way? Are there other ways?\r\n\r\nKind regards\r\nJens",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43780/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43780/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            },
            {
            "url": "https://api.github.com/repos/rails/rails/issues/43773",
            "repository_url": "https://api.github.com/repos/rails/rails",
            "labels_url": "https://api.github.com/repos/rails/rails/issues/43773/labels{/name}",
            "comments_url": "https://api.github.com/repos/rails/rails/issues/43773/comments",
            "events_url": "https://api.github.com/repos/rails/rails/issues/43773/events",
            "html_url": "https://github.com/rails/rails/issues/43773",
            "id": 1070856298,
            "node_id": "I_kwDNIULOP9P4ag",
            "number": 43773,
            "title": "Add IsolatedExecutionState.isolation_level = :fiber_with_thread_fallback",
            "user": {
                "login": "nevans",
                "id": 6142,
                "node_id": "MDQ6VXNlcjYxNDI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/6142?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/nevans",
                "html_url": "https://github.com/nevans",
                "followers_url": "https://api.github.com/users/nevans/followers",
                "following_url": "https://api.github.com/users/nevans/following{/other_user}",
                "gists_url": "https://api.github.com/users/nevans/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/nevans/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nevans/subscriptions",
                "organizations_url": "https://api.github.com/users/nevans/orgs",
                "repos_url": "https://api.github.com/users/nevans/repos",
                "events_url": "https://api.github.com/users/nevans/events{/privacy}",
                "received_events_url": "https://api.github.com/users/nevans/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [
        
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [
        
            ],
            "milestone": null,
            "comments": 5,
            "created_at": "2021-12-03T18:40:14Z",
            "updated_at": "2021-12-08T10:14:03Z",
            "closed_at": null,
            "author_association": "NONE",
            "active_lock_reason": null,
            "body": "This is in reference to `IsolatedExecutionState` introduced by #43596\r\n\r\nWould you consider a third option which sets both fiber and thread vars? It could handle nearly every scenario using something like the following:\r\n\r\n```ruby\r\nTracePoint.new(:fiber_switch) do\r\n  if fiber_var\r\n    thread_var = fiber_var\r\n  else\r\n    fiber_var = thread_var\r\n  end\r\nend\r\n```\r\n\r\nThis may or may not be a good idea, I can write a PR if you think it's worthwhile.\r\n\r\nTracePoint could be avoided by a fourth option: simply delegate everything to another implementation that's integrated with the FiberScheduler.  E.g.\r\n\r\n```ruby\r\nAsync::Job.attr_accessor :active_support_execution_state\r\nActiveSupport::IsolatedExecutionContext.isolation_level = -> {\r\n  Async::Job.current.active_support_execution_state\r\n}\r\n```\r\n\r\ncc: @casperisfine @ioquatix ",
            "reactions": {
                "url": "https://api.github.com/repos/rails/rails/issues/43773/reactions",
                "total_count": 0,
                "+1": 0,
                "-1": 0,
                "laugh": 0,
                "hooray": 0,
                "confused": 0,
                "heart": 0,
                "rocket": 0,
                "eyes": 0
            },
            "timeline_url": "https://api.github.com/repos/rails/rails/issues/43773/timeline",
            "performed_via_github_app": null,
            "score": 1.0
            }
        ]
    }
}